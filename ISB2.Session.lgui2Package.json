{
    "$schema": "http://www.lavishsoft.com/schema/lgui2Package.json",    
    "includes": [
        "ISB2.Live.lgui2Package.json",
        "ISB2.Viewers.lgui2Package.json"
    ],
    "templates": {
        "isb2.data":{
            "defaultActionTypes":[
                {
                    "name":"keystroke",
                    "handler":"Action_Keystroke",
                    "retarget":true,
                    "timer":false,
                    "activationState":true
                },
                {
                    "name":"game key binding",
                    "handler":"Action_GameKeyBinding",
                    "retarget":true,
                    "variableProperties":["name"],
                    "timer":false,
                    "activationState":true
                },
                {
                    "name":"game macro",
                    "handler":"Action_GameMacro",
                    "retarget":true,
                    "variableProperties":["name","sheet"],
                    "activationState":true,
                    "timer":false
                },
                {
                    "name":"keystring",
                    "handler":"Action_KeyString",
                    "retarget":true,
                    "activationState":true,
                    "variableProperties":["text"],
                    "timer":false
                },
                {
                    "name":"target group",
                    "handler":"Action_TargetGroup",
                    "retarget":true,
                    "activationState":true,
                    "variableProperties":["name"],
                    "timer":true
                },
                {
                    "name":"sync cursor",
                    "handler":"Action_SyncCursor",
                    "activationState":true,
                    "timer":false
                },
                {
                    "name":"set game key binding",
                    "handler":"Action_SetGameKeyBinding",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"hotkey sheet state",
                    "handler":"Action_HotkeySheetState",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"vfx sheet state",
                    "handler":"Action_VFXSheetState",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"window focus",
                    "handler":"Action_WindowFocus",
                    "activationState":true,
                    "variableProperties":["window","computer","filterTarget"],
                    "timer":false
                },
                {
                    "name":"window close",
                    "handler":"Action_WindowClose",
                    "activationState":true,
                    "retarget":true,
                    "timer":false
                },
                {
                    "name":"window style",
                    "handler":"Action_WindowStyle",
                    "activationState":true,
                    "retarget":true,
                    "timer":false
                },
                {
                    "name":"window state",
                    "handler":"Action_WindowState",
                    "activationState":true,
                    "retarget":true,
                    "timer":false
                },
                {
                    "name":"mappable",
                    "handler":"Action_Mappable",
                    "variableProperties":["name","sheet"],
                    "activationState":true,
                    "retarget":true,
                    "timer":false
                },
                {
                    "name":"input mapping",
                    "handler":"Action_InputMapping",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":false
                },
                {
                    "name":"set input mapping",
                    "handler":"Action_SetInputMapping",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"mappable step",
                    "handler":"Action_MappableStep",
                    "variableProperties":["name","sheet"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"mappable step state",
                    "handler":"Action_MappableStepState",
                    "variableProperties":["name","sheet"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"mappable state",
                    "handler":"Action_MappableState",
                    "variableProperties":["name","sheet"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"mappable sheet state",
                    "handler":"Action_MappableSheetState",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"key map state",
                    "handler":"Action_KeyMapState",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"virtualize mappable",
                    "handler":"Action_VirtualizeMappable",
                    "variableProperties":["fromSheet","toSheet","fromName","toName"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"click bar state",
                    "handler":"Action_ClickBarState",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"click bar style",
                    "handler":"Action_ClickBarStyle",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"click bar hotkey sheet",
                    "handler":"Action_ClickBarHotkeySheet",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"set click bar button",
                    "handler":"Action_SetClickBarButton",
                    "variableProperties":["buttonLayout","clickBar"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"style",
                    "handler":"Action_Style",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"animate",
                    "handler":"Action_Animate",
                    "variableProperties":["name","animationName"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"stop animation",
                    "handler":"Action_StopAnimation",
                    "variableProperties":["name","animationName"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"add trigger",
                    "handler":"Action_AddTrigger",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"remove trigger",
                    "handler":"Action_RemoveTrigger",
                    "variableProperties":["triggerName"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"trigger",
                    "handler":"Action_Trigger",
                    "variableProperties":["name"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"broadcast state",
                    "handler":"Action_BroadcastState",
                    "variableProperties":["value"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"broadcast target",
                    "handler":"Action_BroadcastTarget",
                    "variableProperties":["value"],
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"broadcast list",
                    "handler":"Action_BroadcastList",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"popup text",
                    "handler":"Action_PopupText",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"sound",
                    "handler":"Action_Sound",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"light",
                    "handler":"Action_Light",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"volume",
                    "handler":"Action_Volume",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"vfx",
                    "handler":"Action_VFX",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"screenshot",
                    "handler":"Action_Screenshot",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"input device key set",
                    "handler":"Action_InputDeviceKeySet",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"timer pool",
                    "handler":"Action_TimerPool",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"send next click",
                    "handler":"Action_SendNextClick",
                    "activationState":true,
                    "retarget":false,
                    "timer":false
                },
                {
                    "name":"region sheet state",
                    "handler":"Action_RegionSheetState",
                    "activationState":true,
                    "retarget":true,
                    "timer":true
                },
                {
                    "name":"set variable",
                    "handler":"Action_SetVariable",
                    "activationState":true,
                    "retarget":true,
                    "timer":true,
                    "variableProperties":["value","name"]
                },
                {
                    "name":"if",
                    "handler":"Action_If",
                    "activationState":true,
                    "retarget":true,
                    "variableProperties":["value","variableName"]
                },
                {
                    "name":"switch",
                    "handler":"Action_Switch",
                    "activationState":true,
                    "retarget":true,
                    "variableProperties":["variableName"]
                },
                {
                    "name":"random",
                    "handler":"Action_Random",
                    "activationState":true,
                    "retarget":true
                }
            ]
        },
        "isb2.clickbarButton":{
            "type":"button",
            "jsonTemplate":"button",
            "eventHandlers":{
                "gotMouseOver":{
                    "type":"method",
                    "object":"This.Parent.Context",
                    "method":"GotMouseOver"
                },
                "lostMouseOver":{
                    "type":"method",
                    "object":"This.Parent.Context",
                    "method":"LostMouseOver"
                },
                "onMouseButtonMove":{
                    "type":"method",
                    "object":"This.Parent.Context",
                    "method":"OnMouseButtonMove"
                },
                "onVisualAttached":{
                    "type":"method",
                    "object":"This.Parent.Context",
                    "method":"OnButtonLoaded"
                }
            }
        },
        "isb2.clickbar.listbox.content":{
            "jsonTemplate": "listbox.content",
            "type": "wrappanel",
            "uniform":false,
            "orientation":"horizontal",
            "childSize":[32,32],
            "backgroundBrush":{
                "color":"#00000000"
            }      
        },
        "isb2.clickbar.listbox":{
            "jsonTemplate":"listbox",
            "type":"listbox",
            "borderThickness":0,
            "content":{
                "jsonTemplate":"isb2.clickbar.listbox.content"
            },
            "contentContainer": {
                "jsonTemplate": "listbox.contentContainerFitWidth",
                "horizontalScroll": "fit"
            },        
            "itemsBinding":{
                "pullFormat":"${This.Context.GetButtons}"
            },
            "itemViewGenerators": {
                "default":{
                    "type":"method",
                    "object":"This.Parent.Context",
                    "method":"GenerateButtonView"
                }
            }
        },
        "isb2.clickbar":{
            "type":"window",
            "jsonTemplate":"window",
            "content":{
                "jsonTemplate":"isb2.clickbar.listbox"
            }
        },
        "isb2.vfx":{
            "type":"window",
            "jsonTemplate":"window",
            "backgroundBrush":{
                "color":"#00000000"
            },
            "contentContainer":{
                "jsonTemplate":"window.contentContainer",
                "padding":0
            },
            "acceptsMouseFocus":true,
            "styles": {
                "onHideTitleBar": {
                  "borderBrush": {
                    "color": [ 0.0, 0.0, 0.0, 0.0 ]
                  },
                  "backgroundBrush": {
                    "color": [ 0.0, 0.0, 0.0, 0.0 ]
                  },
                  "acceptsMouseFocus":false
                },
                "onShowTitleBar": {
                    "borderBrush": "window.borderBrush",
                    "backgroundBrush":{
                        "color":"#00000000"
                    },
                    "acceptsMouseFocus":true
                  }
              }          
        },
        "isb2.rotatorStepView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "children":[
                {
                    "type":"objectview",
                    "verticalAlignment":"stretch",
                    "horizontalAlignment":"stretch",
                    "objectBinding":{
                      "pullFormat":"${This.Context}"
                    },
                    "properties":[
                        {
                            "name":"Actions",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.Get[actions]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:Set[actions,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Counter",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[counter]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[counter,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Counter Time",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[counterTime]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[counterTime,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        }
                    ]
                }
            ]
        },
        "isb2.rotatorView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "width":200,
            "maxSize":[200,-1],
            "padding":4,
            "children":[
                {
                    "_dock":"top",
                    "type":"textblock",
                    "visibility":"collapsed",
                    "textBinding":{
                        "pullFormat":"${_CONTEXT_.Context}"
                    }
                },
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Step: ${ISB2.Rotator_GetCurrentStepNum[_CONTEXT_.Parent.Context]}"
                    }
                },
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Actions: ${Int[${ISB2.Rotator_GetCurrentStep[_CONTEXT_.Parent.Context].Get[actions].Used}]}"
                    }
                },
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Remaining sticky: ${ISB2.Rotator_GetRemainingStickyTime[_CONTEXT_.Parent.Context].Centi}s"
                    }
                },
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Sticky progress: ${ISB2.Rotator_GetStickyProgress[_CONTEXT_.Parent.Context].Centi} / 1.00"
                    }
                },                
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Remaining reset: ${ISB2.Rotator_GetRemainingResetTime[_CONTEXT_.Parent.Context].Centi}s (${ISB2.Rotator_GetResetType[_CONTEXT_.Parent.Context]})"
                    }
                },
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Reset progress: ${ISB2.Rotator_GetResetProgress[_CONTEXT_.Parent.Context].Centi} / 1.00"
                    }
                },                                
                {
                    "_dock":"top",
                    "type":"textblock",
                    "textBinding":{
                        "pullFormat":"Advanced past count: ${ISB2.Rotator_GetCurrentStepCounter[_CONTEXT_.Parent.Context]}"
                    }
                },
                {
                    "_dock":"top",
                    "jsonTemplate":"isb2.rotatorStepView",
                    "visibility":"collapsed",
                    "type":"dockpanel",
                    "contextBinding":{
                        "pullFormat":"${ISB2.Rotator_GetCurrentStep[_CONTEXT_.Parent.Context]}",
                        "autoPull":true,
                        "pullOnce":false
                    }
                }
            ],
            "borderBrush":{
                "color":"#ff999999"
            },
            "borderThickness":[0,1,0,0]
        },
        "isb2.vfxSheetComboboxView":{
            "jsonTemplate":"listboxitem",
            "content":{
                "type":"textblock",
                "textBinding":{
                    "pullFormat":"${_CONTEXTITEMDATA_.Get[name]}",
                    "pullReplaceNull":""
                }
            }
        },
        "isb2.variableListView":{
            "jsonTemplate":"listboxitem",
            "content":{
                "jsonTemplate":"isb2.variableView",
                "contextBinding":{
                    "pullFormat":"${This.Parent.Context.Data}"
                }
            }
        },
        "isb2.variableView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "padding":4,
            "children":[
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[name]}"
                    },
                    "font":{
                        "heightFactor":1.4,
                        "bold":true
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${ISB2.Variables.Get[\"${This.Context.Get[name]~}\"].Value}"
                    }
                },
                {
                    "type":"button",
                    "_dock":"top",
                    "content":"Rotate Value",
                    "margin":5,
                    "horizontalAlignment":"center",
                    "eventHandlers": {
                        "onPress":{
                            "type":"code",
                            "code":"ISB2.Variables.Get[\"${This.Context.Get[name]~}\"]:Forward"
                        }
                    }        
                }
            ],
            "borderBrush":{
                "color":"#ff999999"
            },
            "borderThickness":4,
            "borderRounding":3
        },
        "isb2.lastinputListView":{
            "jsonTemplate":"listboxitem",
            "content":{
                "jsonTemplate":"isb2.lastinputView",
                "contextBinding":{
                    "pullFormat":"${This.Parent.Context.Data}"
                }
            }
        },
        "isb2.lastinputView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "padding":4,
            "children":[              
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${If[${This.Context.GetBool[state]},\"press\",\"release\"]}"
                    },
                    "font":{
                        "heightFactor":0.8
                    }
                }, 
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[input,keyCombo]}"
                    },
                    "font":{
                        "heightFactor":1.4,
                        "bold":true
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"Timestamp: ${This.Context.Get[time]}"
                    }
                },                          
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"Presses: ${This.Context.Get[press.counter]}"
                    }
                },                          
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"Releases: ${This.Context.Get[release.counter]}"
                    }
                },                          
                {
                    "type":"textblock",
                    "_dock":"top",
                    "visibility":"collapsed",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[input].AsJSON[multiline]}"
                    }
                }
            ],
            "borderBrush":{
                "color":"#ff999999"
            },
            "borderThickness":4,
            "borderRounding":3
        },
        "isb2.actionListView":{
            "jsonTemplate":"listboxitem",
            "content":{
                "jsonTemplate":"isb2.actionView",
                "contextBinding":{
                    "pullFormat":"${This.Parent.Context.Data}"
                }
            }
        },
        "isb2.actionView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "padding":4,
            "children":[              
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[state]}"
                    },
                    "font":{
                        "heightFactor":0.8
                    }
                }, 
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[action,type]}"
                    },
                    "font":{
                        "heightFactor":1.4,
                        "bold":true
                    }
                },                          
                {
                    "type":"textblock",
                    "_dock":"top",
                    "visibility":"visible",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[action].AsJSON[multiline]}"
                    }
                }
            ],
            "borderBrush":{
                "color":"#ff999999"
            },
            "borderThickness":4,
            "borderRounding":3
        },
        "isb2.hotkeyListView":{
            "jsonTemplate":"listboxitem",
            "content":{
                "jsonTemplate":"isb2.hotkeyView",
                "contextBinding":{
                    "pullFormat":"${This.Parent.Context.Data}"
                }
            }
        },
        "isb2.hotkeyView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "padding":4,
            "children":[
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[sheet]}"
                    },
                    "font":{
                        "heightFactor":0.8
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[name]}"
                    },
                    "font":{
                        "heightFactor":1.4,
                        "bold":true
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"Hotkey: ${This.Context.Get[keyCombo]}"
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"Count: ${This.Context.Get[counter]}"
                    }
                },                
                {
                    "type":"textblock",
                    "_dock":"top",
                    "visibility":"collapsed",
                    "textBinding":{
                        "pullFormat":"${This.Context.AsJSON[multiline]}"
                    }
                }
            ],
            "borderBrush":{
                "color":"#ff999999"
            },
            "borderThickness":4,
            "borderRounding":3
        },
        "isb2.mappableListView":{
            "jsonTemplate":"listboxitem",
            "content":{
                "jsonTemplate":"isb2.mappableView",
                "contextBinding":{
                    "pullFormat":"${This.Parent.Context.Data}"
                }
            }
        },
        "isb2.mappableView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "padding":4,
            "children":[
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[sheet]}"
                    },
                    "font":{
                        "heightFactor":0.8
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "textBinding":{
                        "pullFormat":"${This.Context.Get[name]}"
                    },
                    "font":{
                        "heightFactor":1.4,
                        "bold":true
                    }
                },
                {
                    "type":"textblock",
                    "_dock":"top",
                    "visibility":"collapsed",
                    "textBinding":{
                        "pullFormat":"${This.Context.AsJSON[multiline]}"
                    }
                },
                {
                    "jsonTemplate":"isb2.rotatorView",
                    "_dock":"top"
                }
            ],
            "borderBrush":{
                "color":"#ff999999"
            },
            "borderThickness":4,
            "borderRounding":3
        },
        "isb2.mappableDetailsView":{
            "type":"dockpanel",
            "jsonTemplate":"dockpanel",
            "children":[
                {
                    "type":"objectview",
                    "verticalAlignment":"stretch",
                    "horizontalAlignment":"stretch",
                    "properties":[
                        {
                            "name":"Name",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.Get[name]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetString[name,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Steps",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.Get[steps]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:Set[steps,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Counter",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[counter]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[counter,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Counter Time",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[counterTime]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[counterTime,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"First Press",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[firstPress]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[firstPress,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Last Press",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[lastPress]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[lastPress,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Step Time",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[stepTime]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[stepTime,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        },
                        {
                            "name":"Step Triggered",
                            "dataBinding":{
                              "pullFormat":"${This.ObjectView.Context.GetInteger[stepTriggered]}",
                              "pullReplaceNull":"",
                              "pushFormat":["This.ObjectView.Context:SetInteger[stepTriggered,\"","\"]"]
                            },
                            "editTemplate":"propertyview.textbox"                            
                        }
                    ]
                }
            ]
        }
    },
    "elements": [
        {
            "type": "panel",
            "visibility": "hidden",
            "name": "isb2.events"
        },
        {
            "type":"border",
            "visibility":"visible",
            "name":"isb2.popupTextPanel",
            "padding":[20,10],
            "opacity":0.0,
            "acceptsMouseFocus": false,
            "acceptsKeyboardFocus":false,
            "horizontalAlignment":"center",
            "yFactor":0.2,
            "child":{
                "type":"textblock",
                "name":"isb2.popupText",
                "text":"No Popup Text",
                "font":{
                    "heightFactor":2.0
                },
                "color":"#ff0000"                
            },
            "backgroundBrush":{
                "color":"#cc222222"
            },
            "strata":0.6            
        },
        {
            "type":"broadcaster",
            "name":"isb2.MainBroadcaster",
            "broadcastTarget": "all other",
            "horizontalAlignment":"stretch",
            "verticalAlignment":"stretch",
            "strata":0.05,
            "borderBrush":{
                "color":"#ff0000"
            },
            "borderThickness":4,
            "visibility":"hidden",
            "sendKeyboard":true,
            "sendMouse":true,
            "useLocalBindings":true,
            "sendForegroundOnly":true
        },
        {
            "type":"window",
            "name":"isb2.MainWindow",
            "_keepTitleBar":true,
            "hideOnClose":true,
            "title":"ISBoxer 2",
            "width":750,
            "height":400,
            "minSize":[600,300],
            "horizontalAlignment":"center",
            "verticalAlignment":"center",
            "visibility": "visible",
            "content":{
                "type":"dockpanel",
                "horizontalAlignment": "stretch",
                "verticalAlignment": "stretch",
                "children":[
                    {
                        "type":"dockpanel",
                        "_dock":"bottom",
                        "margin":5,
                        "horizontalAlignment": "stretch",
                        "children":[
                            {
                                "type":"button",
                                "content":"Restart Script",
                                "_dock": "right",
                                "eventHandlers": {
                                    "onPress":{
                                        "type":"code",
                                        "code":"ISB2:Restart"
                                    }
                                }
                            },
                            {
                                "type":"button",
                                "content":"Inner Space Console",
                                "_dock": "right",
                                "margin":[0,0,5,0],
                                "eventHandlers": {
                                    "onPress":{
                                        "type":"code",
                                        "code":"console toggle"
                                    }
                                }
                            },
                            {
                                "type":"button",
                                "content":"Load Tests",
                                "visibility":"collapsed",
                                "_dock": "right",
                                "margin":[0,0,5,0],
                                "eventHandlers": {
                                    "onPress":{
                                        "type":"code",
                                        "code":"ISB2:BeginTest"
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "type":"tabcontrol",
                        "_dock":"top",
                        "horizontalAlignment":"stretch",
                        "tabs":[
                            {
                                "type":"tab",
                                "header":"Profiles",
                                "content":{
                                    "type":"dockpanel",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "children":[
                                        {
                                            "type":"button",
                                            "_dock":"bottom",
                                            "horizontalAlignment":"center",
                                            "content":"Activate",
                                            "eventHandlers":{
                                                "onRelease":{
                                                    "type":"code",
                                                    "code":"ISB2:ActivateProfileByName[\"${LGUI2.Element[isb2.listAvailableProfiles].SelectedItem.Data.Get[name]~}\"]"
                                                }
                                            }
                                        },
                                        {
                                            "type":"listbox",
                                            "name":"isb2.listAvailableProfiles",
                                            "_dock":"bottom",
                                            "minSize":[0,80],
                                            "horizontalAlignment":"stretch",
                                            "itemsBinding":{
                                                "pullFormat":"${ISB2.ProfileDB.Profiles.AsJSON[array]}",
                                                "pullHook": {
                                                    "elementName": "isb2.events",
                                                    "flags": "global",
                                                    "event": "onProfilesUpdated"
                                                }
                                            },
                                            "itemViewGenerators":{
                                                "default":{
                                                    "type":"template",
                                                    "template":"isb2.profileView"
                                                }
                                            }
                                        },
                                        {
                                            "type":"textblock",
                                            "_dock":"bottom",
                                            "text":"Available Profiles"
                                        },
                                        {
                                            "type":"textblock",
                                            "_dock":"top",
                                            "text":"Active Profiles"
                                        },
                                        {
                                            "type":"listbox",
                                            "name":"isb2.listActiveProfiles",
                                            "_dock":"top",
                                            "minSize":[0,80],
                                            "horizontalAlignment":"stretch",
                                            "itemsBinding":{
                                                "pullFormat":"${ISB2.Profiles.AsJSON}",
                                                "pullHook": {
                                                    "elementName": "isb2.events",
                                                    "flags": "global",
                                                    "event": "onProfilesUpdated"
                                                }
                                            },
                                            "itemViewGenerators":{
                                                "-default":{
                                                    "type":"template",
                                                    "template":"isb2.profileView"
                                                }
                                            }
                                        },
                                        {
                                            "type":"button",
                                            "_dock":"top",
                                            "horizontalAlignment":"center",
                                            "content":"Deactivate",
                                            "eventHandlers":{
                                                "onRelease":{
                                                    "type":"code",
                                                    "code":"ISB2:DeactivateProfileByName[\"${LGUI2.Element[isb2.listActiveProfiles].SelectedItem.Data~}\"]"
                                                }
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                "type":"tab",
                                "header":"Activity",
                                "content":{
                                    "type":"scrollviewer",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "content":{
                                        "type":"dockpanel",
                                        "children":[
                                            {
                                                "type":"listbox",
                                                "content":{
                                                    "jsonTemplate":"listbox.content",
                                                    "orientation":"horizontal"
                                                },
                                                "_dock":"top",
                                                "minSize":[100,50],
                                                "itemsBinding":{
                                                    "pullFormat":"${ISB2.LastHotkeys}",
                                                    "pullHook":{
                                                        "elementName": "isb2.events",
                                                        "flags": "global",
                                                        "event": "onLastHotkeysUpdated"
                                                    }
                                                },
                                                "itemViewGenerators":{
                                                    "default":{
                                                        "type":"template",
                                                        "template":"isb2.hotkeyListView"
                                                    }
                                                }
                                            },
                                            {
                                                "type":"listbox",
                                                "content":{
                                                    "jsonTemplate":"listbox.content",
                                                    "orientation":"horizontal"
                                                },
                                                "_dock":"top",
                                                "minSize":[100,50],
                                                "itemsBinding":{
                                                    "pullFormat":"${ISB2.LastMappables}",
                                                    "pullHook":{
                                                        "elementName": "isb2.events",
                                                        "flags": "global",
                                                        "event": "onLastMappablesUpdated"
                                                    }
                                                },
                                                "itemViewGenerators":{
                                                    "default":{
                                                        "type":"template",
                                                        "template":"isb2.mappableListView"
                                                    }
                                                }
                                            },
                                            {
                                                "type":"listbox",
                                                "content":{
                                                    "jsonTemplate":"listbox.content",
                                                    "orientation":"horizontal"
                                                },
                                                "_dock":"top",
                                                "minSize":[100,50],
                                                "itemsBinding":{
                                                    "pullFormat":"${ISB2.LastActions}",
                                                    "pullHook":{
                                                        "elementName": "isb2.events",
                                                        "flags": "global",
                                                        "event": "onLastActionsUpdated"
                                                    }
                                                },
                                                "itemViewGenerators":{
                                                    "default":{
                                                        "type":"template",
                                                        "template":"isb2.actionListView"
                                                    }
                                                }
                                            },
                                            {
                                                "type":"listbox",
                                                "content":{
                                                    "jsonTemplate":"listbox.content",
                                                    "orientation":"horizontal"
                                                },
                                                "_dock":"top",
                                                "minSize":[100,50],
                                                "itemsBinding":{
                                                    "pullFormat":"${ISB2.LastInputs}",
                                                    "pullHook":{
                                                        "elementName": "isb2.events",
                                                        "flags": "global",
                                                        "event": "onLastInputsUpdated"
                                                    }
                                                },
                                                "itemViewGenerators":{
                                                    "default":{
                                                        "type":"template",
                                                        "template":"isb2.lastinputListView"
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            {
                                "type":"tab",
                                "header":"Variables",
                                "content":{
                                    "type":"dockpanel",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "children":[
                                        {
                                            "type":"listbox",
                                            "content":{
                                                "jsonTemplate":"listbox.content",
                                                "orientation":"horizontal"
                                            },
                                            "_dock":"top",
                                            "minSize":[100,50],
                                            "itemsBinding":{
                                                "pullFormat":"${ISB2.Variables.AsJSON[array]}",
                                                "pullHook":{
                                                    "elementName": "isb2.events",
                                                    "flags": "global",
                                                    "event": "onVariablesUpdated"
                                                }
                                            },
                                            "itemViewGenerators":{
                                                "default":{
                                                    "type":"template",
                                                    "template":"isb2.variableListView"
                                                }
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                "type":"tab",
                                "header":"Video FX",
                                "content":{
                                    "type":"dockpanel",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "padding":5,
                                    "children":[
                                        {
                                            "type":"combobox",
                                            "name":"isb2.listVFXSheets",
                                            "_dock":"top",
                                            "minSize":[100,20],
                                            "itemsBinding":{
                                                "pullFormat":"${ISB2.VFXSheets.AsJSON[array]}",
                                                "pullHook":{
                                                    "elementName": "isb2.events",
                                                    "flags": "global",
                                                    "event": "onVFXSheetsUpdated"
                                                }
                                            },
                                            "itemViewGenerators":{
                                                "default":{
                                                    "type":"template",
                                                    "template":"isb2.vfxSheetComboboxView"
                                                }
                                            }
                                        },
                                        {
                                            "type":"scrollviewer",
                                            "_dock":"top",
                                            "horizontalAlignment":"stretch",
                                            "verticalAlignment":"stretch",
                                            "margin":[0,5,0,0],
                                            "borderThickness":1,
                                            "borderBrush":{
                                                "color":"#7f7f7f"
                                            },                                            
                                            "content":
                                                {
                                                    "type":"textblock",
                                                    "text":"${ISB2.VFXSheets.Get[\"${LGUI2.Element[isb2.listVFXSheets].SelectedItem.Data.Get[name]~}\"].AsJSON.AsJSON[multiline]}"
                                                }
                                            
                                        }
                                    ]                                    
                                }
                            },
                            {
                                "type":"tab",
                                "header":"Test",
                                "content":{
                                    "type":"dockpanel",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "children":[
                                        {
                                            "type":"textblock",
                                            "text":"Available Profiles: ${ISB2.ProfileDB.Profiles.Used}",
                                            "_dock":"top"
                                        },
                                        {
                                            "type":"textblock",
                                            "text":"Active Profiles: ${ISB2.Profiles.Used}",
                                            "_dock":"top"
                                        },
                                        {
                                            "type":"textblock",
                                            "text":"Hotkey Sheets: ${ISB2.HotkeySheets.Used}",
                                            "_dock":"top"
                                        },
                                        {
                                            "type":"textblock",
                                            "text":"Mappable Sheets: ${ISB2.MappableSheets.Used}",
                                            "_dock":"top"
                                        }
                                        
                                    ]
                                }                                
                            }                                            
                        ]
                    }
                ]
            }
        }
    ]
}