{
    "$schema": "http://www.lavishsoft.com/schema/lgui2Package.json",    
    "includes": [
        "ISB2.Skin.lgui2Package.json",
        "ISB2.Editors.lgui2Package.json",
        "ISB2.Viewers.lgui2Package.json"
    ],
    "skin":"ISBoxer 2",
    "templates": {
        "isb2.slotmanager.slotView":{
            "jsonTemplate":"listboxitem",
            "padding":2,
            "borderThickness":[0,0,0,1],
            "borderBrush":{
                "color":"#333333"
            },
            "content":{
                "type":"dockpanel",
                "contextBinding":{
                    "pullFormat":"${ISB2.SlotManager.Slots.Get[${_CONTEXTITEMDATA_.Get[slot]}]}"
                },
                "children":[
                    {
                        "_dock":"left",
                        "type":"textblock",
                        "font":{
                            "heightFactor":3.0
                        },
                        "text":"${This.Context.NumSlot}",
                        "verticalAlignment":"center",
                        "margin":[10,0,15,0]
                    },
                    {
                        "_dock":"top",
                        "type":"textblock",
                        "text":"${This.Context.Title}",
                        "font":{
                            "heightFactor":2.0,
                            "bold":true
                        }
                    },
                    {
                        "_dock":"top",
                        "type":"textblock",
                        "text":"${This.Context.GetError}"        
                    }
                ]   
            }            
        }
    },
    "elements": [
        {
            "type": "panel",
            "visibility": "hidden",
            "name": "isb2.events"
        },
        {
            "type":"window",
            "width":400,
            "height":600,
            "title":"ISBoxer 2: ISBoxer Toolkit Profile Importer",
            "name":"isb2.import.window",
            "visibility":"hidden",
            "hideOnClose":true,
            "strata":0.6,
            "content":{
                "type":"dockpanel",
                "horizontalAlignment":"stretch",
                "verticalAlignment":"stretch",
                "children":[
                    {
                        "type":"filepicker",
                        "_dock":"top",
                        "horizontalAlignment":"stretch",
                        "verticalAlignment":"stretch",
                        "requireExisting":true,
                        "wildcard":"*.XML",
                        "path":"%USERPROFILE%/Documents",
                        "eventHandlers":{
                            "onFinalized":{
                                "type": "method",
                                "object":"ISB2",
                                "method":"OnImportWindowFinalized"
                            }
                        }
                    }
                ]            
            }
        },
        {
            "type":"window",
            "visibility":"visible",
            "name":"isb2.launching",
            "hideOnClose":true,
            "title":"ISBoxer 2: Launching",
            "horizontalAlignment":"center",
            "verticalAlignment":"center",
            "width":750,
            "height":400,
            "content":{
                "type":"dockpanel",
                "horizontalAlignment":"stretch",
                "verticalAlignment":"stretch",
                "margin":5,
                "children":[
                    {
                        "type":"dockpanel",
                        "_dock":"top",
                        "horizontalAlignment":"stretch",
                        "children":[
                            {
                                "type":"textblock",
                                "text":"Launching ...",
                                "_dock":"left",
                                "verticalAlignment":"bottom",
                                "font":{
                                    "heightFactor":2.0
                                },
                                "margin":[0,0,0,5]        
                            },
                            {
                                "type":"button",
                                "_dock":"right",
                                "verticalAlignment":"center",
                                "content":"Copy to Clipboard",
                                "eventHandlers":{
                                    "onPress":{
                                        "type":"method",
                                        "object":"ISB2.SlotManager",
                                        "method":"CopyStateToClipboard"
                                    }
                                }
                            },
                            {
                                "type":"textblock",
                                "_dock":"right",
                                "verticalAlignment":"center",
                                "margin":[0,0,10,0],
                                "font":{
                                    "heightFactor":2.0,
                                    "bold":true
                                },
                                "text":"${ISB2.SlotManager.Duration.Centi}s"
                            }
                        ]
                    },
                    {
                        "type":"listbox",
                        "_dock":"top",
                        "name":"isb2.launching.list",
                        "horizontalAlignment":"stretch",
                        "verticalAlignment":"stretch",
                        "itemsBinding":{
                            "pullFormat":"${ISB2.SlotManager.Slots.AsJSON[array]}",
                            "pullHook":{
                                "elementName":"isb2.events",
                                "flags": "global",
                                "event": "onSlotsUpdated"
                            }
                        },
                        "itemViewGenerators":{
                            "default":{
                                "type":"template",
                                "template":"isb2.slotmanager.slotView"
                            }
                        }
                    }
                ]
            }
        },
        {
            "type":"window",
            "name":"isb2.MainWindow",
            "hideOnClose":true,
            "title":"ISBoxer 2",
            "width":750,
            "height":400,
            "minSize":[600,300],
            "horizontalAlignment":"center",
            "verticalAlignment":"center",
            "visibility": "visible",
            "content":{
                "type":"dockpanel",
                "horizontalAlignment": "stretch",
                "verticalAlignment": "stretch",
                "children":[
                    {
                        "type":"dockpanel",
                        "_dock":"bottom",
                        "horizontalAlignment": "stretch",
                        "children":[
                            {
                                "type":"button",
                                "content":"Reload Agent",
                                "_dock": "right",
                                "eventHandlers": {
                                    "onPress":{
                                        "type":"code",
                                        "code":"agent.Get[ISBoxer 2]:Stop:Reload:Start"
                                    }
                                }
                            },
                            {
                                "type":"button",
                                "content":"Load Tests",
                                "_dock": "right",
                                "margin":[0,0,5,0],
                                "eventHandlers": {
                                    "onPress":{
                                        "type":"code",
                                        "code":"ISB2:LoadTests"
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "type":"tabcontrol",
                        "_dock":"top",
                        "horizontalAlignment":"stretch",
                        "tabs":[
                            {
                                "type":"tab",
                                "header":"Launcher",
                                "content":{
                                    "type":"dockpanel",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "children":[
                                        {
                                            "type":"dockpanel",
                                            "horizontalAlignment": "stretch",
                                            "_dock":"top",
                                            "padding":5,
                                            "children":[
                                                {
                                                    "type":"button",
                                                    "_dock":"right",
                                                    "content":"Launch",
                                                    "margin":[5,0,0,0],
                                                    "eventHandlers":{
                                                        "onPress":{
                                                            "type":"method",
                                                            "object":"ISB2",
                                                            "method":"LaunchSelectedTeam"
                                                        }
                                                    },
                                                    "selectedItemBinding":{
                                                        "pullFormat":"${ISB2.SelectedTeamName}",
                                                        "pushFormat":["ISB2:SelectTeam[\"","\"]"]
                                                    },
                                                    "selectedItemBindingProperty":"name"        
                                                },
                                                {
                                                    "type":"textblock",
                                                    "text":"Team: ",
                                                    "_dock":"left",
                                                    "verticalAlignment":"center"
                                                },
                                                {
                                                    "type":"combobox",
                                                    "_dock":"left",
                                                    "horizontalAlignment":"stretch",
                                                    "name":"isb2.launcher.teams",
                                                    "itemsBinding":{
                                                        "pullFormat":"${ISB2.SelectAllNames[Teams]}",
                                                        "pullHook":{
                                                            "elementName":"isb2.events",
                                                            "flags":"global",
                                                            "event":"onProfilesUpdated"
                                                        }
                                                    }                                            
                                                }
                                            ]
                                        },
                                        {
                                            "type":"checkbox",
                                            "_dock":"top",
                                            "horizontalAlignment":"right",
                                            "content":"Launch Slots simultaneously",
                                            "tooltip":"Enables quick launching of game clients.\nMany game launchers will not support this setting.",
                                            "margin":[15,5,0,0],
                                            "checkedBinding":{
                                                "pullFormat":"${ISB2.QuickLaunch}",
                                                "pushFormat":["ISB2:SetQuickLaunch[\"","\"]"]
                                            }
                                        },
                                        {
                                            "type":"checkbox",
                                            "_dock":"top",
                                            "horizontalAlignment":"right",
                                            "content":"Dynamic Launch Mode",
                                            "tooltip":"This is a decoy",
                                            "margin":[15,5,0,0]
                                        }
                                    ]         
                                }                                
                            },
                            {
                                "type":"tab",
                                "header":"Profiles",
                                "content":{
                                    "type":"dockpanel",
                                    "horizontalAlignment": "stretch",
                                    "verticalAlignment": "stretch",
                                    "children":[
                                        {
                                            "type":"dockpanel",
                                            "_dock":"right",
                                            "verticalAlignment":"stretch",
                                            "margin":[5,0,0,0],
                                            "children":[
                                                {
                                                    "type":"button",
                                                    "_dock":"top",
                                                    "content":"Import ...",
                                                    "eventHandlers":{
                                                        "onPress":{
                                                            "type":"method",
                                                            "object":"ISB2",
                                                            "method":"OnImportButton"
                                                        }
                                                    }
                                                },
                                                {
                                                    "type":"button",
                                                    "_dock":"top",
                                                    "margin":[0,5,0,0],
                                                    "content":"Load ...",
                                                    "eventHandlers":{
                                                        "onPress":{
                                                            "type":"method",
                                                            "object":"ISB2",
                                                            "method":"OnLoadButton"
                                                        }
                                                    }
                                                }
                                            ]
                                        },
                                        {
                                            "type":"listbox",
                                            "_dock":"left",
                                            "horizontalAlignment": "stretch",
                                            "verticalAlignment": "stretch",
                                            "itemsBinding":{
                                                "pullFormat": "${ISB2.Profiles.AsJSON[array]}",
                                                "pullHook": {
                                                    "elementName": "isb2.events",
                                                    "flags": "global",
                                                    "event": "onProfilesUpdated"
                                                }
                                            },
                                            "selectedItemBinding":{
                                                "pullFormat":"${ISB2.SelectedProfile.Name}",
                                                "pushFormat":["ISB2:SelectProfile[\"","\"]"]
                                            },
                                            "selectedItemBindingProperty":"name",
                                            "itemViewGenerators":{
                                                "default":{
                                                  "type":"template",
                                                  "template":"isb2.profileComplexView"
                                                }
                                            }
                                        }
                                    ]
                                }                                
                            }                                                        
                        ]
                    }
                ]
            }
        }
    ]
}